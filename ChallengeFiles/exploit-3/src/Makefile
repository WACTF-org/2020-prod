webroot=/var/www/html/

jar: all
	jar -cvfe GameFinder-0.2.jar GameFinder controller/*.class model/*.class view/*.class GameFinder.class
	jar -cvfe GameFinderMinion-0.2.jar GameFinderMinion controller/*.class model/*.class GameFinderMinion.class 

main: 
	javac model/*.java
	javac controller/*.java
	javac view/*.java

client: main
	javac GameFinder.java

minion: main
	javac GameFinderMinion.java

all: main client minion
	@echo "done"

install: jar
	cp -R ../html/* $(webroot)
	cp GameFinder-0.2.jar $(webroot)
	cp GameFinderMinion-0.2.jar /var/www/
	cp ../doc/flag.txt /

clean:
	rm -f controller/*.class
	rm -f model/*.class
	rm -f view/*.class
	rm -f *.class
	rm -f *.jar

uninstall: clean
	rm -rf /var/www/html

rum: 
	@echo "Where has all the rum gone?"